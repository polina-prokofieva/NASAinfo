(this.webpackJsonpnasa_app=this.webpackJsonpnasa_app||[]).push([[0],{10:function(e,t,a){e.exports={TransferPage:"TransferPage_TransferPage__2YCF0",placeholder:"TransferPage_placeholder__325Nf",TransferArticle:"TransferPage_TransferArticle__2zzTw",rendered:"TransferPage_rendered__37R7C",content:"TransferPage_content__3-fhq",category:"TransferPage_category__3wXDf"}},12:function(e,t,a){e.exports={Preview:"Preview_Preview__3SJxB",description:"Preview_description__1NFxg",list:"Preview_list__1BX2y",listItem:"Preview_listItem__1LLFf",key:"Preview_key__ep0Yc",value:"Preview_value___JY16",text:"Preview_text__1J89u"}},24:function(e,t,a){e.exports={GalleryPage:"GalleryPage_GalleryPage__2ZQ7z",content:"GalleryPage_content__2a8Z9",filter:"GalleryPage_filter__1mGsm",galleryFilterSelect:"GalleryPage_galleryFilterSelect__3-vm6"}},25:function(e,t,a){e.exports={TopMenu:"TopMenu_TopMenu__2I_ug",selected:"TopMenu_selected__2fKPE"}},34:function(e,t,a){e.exports={HomePage:"HomePage_HomePage__3Zwca"}},39:function(e,t,a){e.exports=a(54)},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=a(36),i=a(19),u=a(21),s=a(11),m=a(9),f=a.n(m),p=a(15),g=a(20),d=a(8),_=a(12),h=a.n(_),E=function(e){var t=e.url,a=e.location,n=e.center,c=e.description,o=e.title,l=e.date_created,u=Object(i.a)(e,["url","location","center","description","title","date_created"]);console.log(u);var s={location:a,center:n,title:o,date:new Date(l).toString()};return r.a.createElement("li",{className:h.a.Preview},r.a.createElement("img",{alt:a,src:t}),r.a.createElement("div",{className:h.a.description},r.a.createElement("ul",{className:h.a.list},Object.keys(s).map((function(e){return r.a.createElement("li",{key:e,className:h.a.listItem},r.a.createElement("span",{className:h.a.key},e,": "),r.a.createElement("span",{className:h.a.value},s[e]))}))),r.a.createElement("p",{className:h.a.text},c)))},y=a(32),v=a(37),O=a(33),b=a(38),w=(a(49),function(e){return r.a.createElement("div",{className:"error"},r.a.createElement("h5",null,"Ooops..."),r.a.createElement("p",null,"Something went wrong"))}),j=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(w,null):this.props.children}}]),t}(n.Component),D=a(7),P=(a(50),function(){return r.a.createElement("div",{className:"loadingio-spinner-eclipse-6k77a25kvoc"},r.a.createElement("div",{className:"ldio-y6dphe9xoic"},r.a.createElement("div",null)))}),N=function(e){return function(t){var a=t.getData,c=Object(n.useState)(null),o=Object(D.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(!0),s=Object(D.a)(u,2),m=s[0],f=s[1],p=Object(n.useState)(!1),g=Object(D.a)(p,2),d=g[0],_=g[1],h=function(e){i(e),f(!1),_(!1)},E=function(){_(!0),f(!1)};return Object(n.useEffect)((function(){a().then(h).catch(E)}),[a]),m?r.a.createElement(P,null):d?r.a.createElement(w,null):r.a.createElement(e,{data:l})}},T=a(24),x=a.n(T),k=N((function(e){var t=e.data.collection.items.map((function(e){var t=e.links,a=e.data;return Object(d.a)({},a[0],{url:t[0].href})}));return r.a.createElement(j,null,r.a.createElement("main",{className:x.a.GalleryPage},r.a.createElement("ul",{className:x.a.content},t.map((function(e){return r.a.createElement(E,Object.assign({key:e.title},e))})))))})),S=["January","February","March","April","May","June","July","August","September","October","November","December"],M=new Date,C=M.getFullYear(),H=M.getMonth(),F=new Array(C-2015+1).fill(2015).map((function(e,t){return 2015+t})),A=function(e){return S.map((function(t,a){return{value:a+1,label:t,isDisabled:e===C&&a>H}}))},L=(S[H],F.map((function(e,t){return{value:e,label:e}}))),I=(L[L.length-1],/www\.youtube\.com/),G={title:"Picture Of The Day",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0},J=function(e){return"".concat(e<10?"0":"").concat(e)},Y=function(e){return new Date(+e+864e5)},B=new Date,K=(Y(B),a(6)),R=a.n(K),z=function(e){var t=e.url,a=e.hdurl,c=e.title,o=e.explanation,l=e.isVideo,i=e.isHTML,u=Object(n.useContext)(X),s=u.date,m=u.toPrevDay,f=u.toNextDay,p=l?r.a.createElement("iframe",Object.assign({},G,{src:"".concat(t,"&controls=0")})):r.a.createElement("img",{alt:c,src:t}),g=function(e){var t=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}(s)?r.a.createElement("span",{className:R.a.tomorrow},"\xa0"):r.a.createElement("span",{className:R.a.tomorrow,onClick:f},"\u25b6");return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement("figure",{className:R.a.image},p),r.a.createElement("div",{className:R.a.description},r.a.createElement("div",{className:R.a.currentDate},r.a.createElement("span",{className:R.a.yesterday,onClick:m},"\u25c0"),r.a.createElement("span",{className:R.a.today},function(e){return e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}(s)),g),r.a.createElement("article",{className:R.a.headerAndText},r.a.createElement("h2",null,c),r.a.createElement("p",null,o)),r.a.createElement("p",{className:"download"},!l&&!i&&r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"Download HD"),"\xa0",i&&r.a.createElement("a",{href:t,target:"_blank"},"Go to picture of the day"))))},Z=N((function(e){var t=e.data,a=t.url,c=Object(n.useMemo)((function(){return function(e){return I.test(e)}(a)}),[a]),o=Object(n.useMemo)((function(){return function(e){return/.*\.html$/.test(e)}(a)}),[a]),l=Object(d.a)({},t,{isVideo:c,isHTML:o});return r.a.createElement("section",{className:R.a.PictureOfTheDay},r.a.createElement(z,l))})),W=a(34),U=a.n(W),X=r.a.createContext(),Q=function(e){var t=e.getData,a=Object(n.useState)(B),c=Object(D.a)(a,2),o=c[0],l=c[1],i=Object(n.useCallback)((function(){return t(function(e){var t=e.getFullYear(),a=J(e.getMonth()+1),n=J(e.getDate());return"".concat(t,"-").concat(a,"-").concat(n)}(o))}),[o]),u={date:o,toPrevDay:function(){l((function(e){return function(e){return new Date(e-864e5)}(e)}))},toNextDay:function(){l((function(e){return Y(e)}))}};return r.a.createElement("main",{className:U.a.HomePage,id:"homePage"},r.a.createElement(X.Provider,{value:u},r.a.createElement(Z,{getData:i})))},V=a(28),q=a(10),$=a.n(q),ee=function(e){var t=e.title,a=e.text,c=e.category,o=e.image,l=Object(n.useState)([$.a.TransferArticle]),i=Object(D.a)(l,2),u=i[0],s=i[1];Object(n.useEffect)((function(){s((function(e){return[].concat(Object(V.a)(e),[$.a.rendered])}))}),[]);var m=u.reduce((function(e,t){return"".concat(e," ").concat(t)}),"");return r.a.createElement("div",{className:m},r.a.createElement("h3",{className:$.a.title},t),r.a.createElement("div",{className:$.a.content},o&&r.a.createElement("figure",null,r.a.createElement("img",{src:o,alt:t})),r.a.createElement("article",null,r.a.createElement("p",{className:$.a.text},a),r.a.createElement("p",{className:$.a.category},r.a.createElement("span",null,c)))))},te=N((function(e){var t=e.data.results,a=Object(n.useMemo)((function(){return t.filter((function(e){return e[0]&&e[2]&&e[3]&&e[10]}))}),[t]),c=Object(n.useState)([a[0]]),o=Object(D.a)(c,2),l=o[0],i=o[1],u=l.length<a.length,s=Object(n.useCallback)((function(){l.length>=a.length?window.removeEventListener("scroll",s):function(){var e=document.body;return e.scrollHeight-e.clientHeight-window.pageYOffset<100}()&&i((function(e){return[].concat(Object(V.a)(e),[a[e.length]])}))}),[a,l]);return Object(n.useEffect)((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[s]),Object(n.useEffect)((function(){s()})),r.a.createElement(j,null,r.a.createElement("main",{className:$.a.TransferPage},l.map((function(e){return r.a.createElement(ee,{key:e[0],title:e[2],text:e[3],category:e[5],image:e[10]})})),u&&r.a.createElement("div",{className:$.a.placeholder})))})),ae=new function e(){var t=this;Object(g.a)(this,e),this._apiBase="https://api.nasa.gov",this._apiImages="https://images-api.nasa.gov/search?media_type=image&page=1",this._apiKey="Z1FMxuzDUZu2v1JXYMHQSg40SzLpgua05AfFeELa",this._apiKeyParam="api_key=".concat(this._apiKey),this.catchError=function(e,t){if(!e.ok)throw new Error("Could not fetch ".concat(t,", received ").concat(e.status))},this.getResource=function(){var e=Object(p.a)(f.a.mark((function e(a){var n,r,c,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r="".concat(t._apiBase).concat(a,"?").concat(n.concat([t._apiKeyParam]).join("&")),e.next=4,fetch(r);case 4:return c=e.sent,t.catchError(c,r),e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPictureOfTheDay=function(){var e=Object(p.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/planetary/apod",a&&["date=".concat(a)]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTransfer=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/techtransfer/patent/"));case 1:case"end":return e.stop()}}),e)}))),this.getImages=Object(p.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t._apiImages);case 2:return a=e.sent,t.catchError(a,t._apiImages),e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))},ne=[{path:"/",name:"Home",component:Q,getData:ae.getPictureOfTheDay,exact:!0},{name:"Home",component:Q,getData:ae.getPictureOfTheDay,top:!0},{name:"Gallery",component:k,getData:ae.getImages,top:!0},{name:"Transfer",component:te,getData:ae.getTransfer,top:!0}];ne.forEach((function(e){e.path=e.path||"/".concat(e.name.toLowerCase())}));var re=ne.filter((function(e){return e.top})),ce=a(25),oe=a.n(ce),le=function(){return r.a.createElement("nav",{className:oe.a.TopMenu},r.a.createElement("ul",null,re.map((function(e){var t=e.name,a=e.path;return r.a.createElement("li",{key:t},r.a.createElement(u.b,{to:a,activeClassName:oe.a.selected},r.a.createElement("span",null,t)))}))))},ie=(a(52),function(){return r.a.createElement(j,null,r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement("header",null,r.a.createElement(le,null)),ne.map((function(e){var t=e.name,a=e.component,n=e.getData,c=Object(i.a)(e,["name","component","getData"]);return r.a.createElement(s.a,Object.assign({},c,{key:t,render:function(e){return r.a.createElement(a,Object.assign({},e,{getData:n}))}}))})))))}),ue=a(18),se={year:C,month:H,monthsOptions:A(C),sol:null},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"YEAR_CHOSEN":return Object(d.a)({},e,{monthsOptions:A(t.payload),year:t.payload});case"MONTH_CHOSEN":return Object(d.a)({},e,{month:t.payload});case"WEATHER_LOADED":return Object(d.a)({},e,{sol:t.payload.sol_keys[0]});case"SOL_CHOSEN":return Object(d.a)({},e,{sol:t.payload});default:return e}},fe=Object(ue.b)(me);a(53);o.a.render(r.a.createElement(l.a,{store:fe},r.a.createElement(ie,null)),document.getElementById("root"))},6:function(e,t,a){e.exports={PictureOfTheDay:"PictureOfTheDay_PictureOfTheDay__38SdU",image:"PictureOfTheDay_image__1Krg5",description:"PictureOfTheDay_description__3y1EC",download:"PictureOfTheDay_download__veDcJ",currentDate:"PictureOfTheDay_currentDate__3IuNg",today:"PictureOfTheDay_today__33DjW",yesterday:"PictureOfTheDay_yesterday__McmWW",tomorrow:"PictureOfTheDay_tomorrow__3j59E"}}},[[39,1,2]]]);
//# sourceMappingURL=main.1a4c121f.chunk.js.map