(this.webpackJsonpnasa_app=this.webpackJsonpnasa_app||[]).push([[0],{32:function(e,t,a){e.exports=a(58)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=a(13),s=a(30),i=a(14),u=a(2),m=a(3),h=a(5),p=a(4),d=a(6),f=(a(41),function(e){var t=e.sol,a=e.day,n=a.AT,l=a.HWS,c=a.PRE,o=a.First_UTC,s=e.onDayClick,i=new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u=n?Math.round(n.av):"&ndash;",m=l?Math.round(l.av):"&ndash;",h=c?Math.round(c.av):"&ndash;";return r.a.createElement("div",{className:"marsWeatherDay",onClick:s},r.a.createElement("p",{className:"solDate"},"Sol ",t),r.a.createElement("p",{className:"date"},i),r.a.createElement("p",{className:"airT"},r.a.createElement("span",{className:"label"},"Air temp.:\xa0"),r.a.createElement("span",{className:"value"},u),r.a.createElement("span",{className:"unit"},"\xb0C")),r.a.createElement("p",{className:"wind"},r.a.createElement("span",{className:"label"},"Wind:\xa0"),r.a.createElement("span",{className:"value"},m),r.a.createElement("span",{className:"unit"},"m/s")),r.a.createElement("p",{className:"pressure"},r.a.createElement("span",{className:"label"},"Press.:\xa0"),r.a.createElement("span",{className:"value"},h),r.a.createElement("span",{className:"unit"},"Pa")))}),E=(a(42),function(e){var t=e.title,a=e.measurement,n=e.data,l={minimum:n.mn,maximum:n.mx,average:n.av};return r.a.createElement("div",{className:"InfoBlock"},r.a.createElement("h5",null,t," (",a,"):"),Object.keys(l).map((function(e){return r.a.createElement("p",null,r.a.createElement("span",null,e,":"),"\xa0",r.a.createElement("span",null,l[e]))})))}),v=function(e){var t=e.data,a=e.solKey,n=new Date(t.First_UTC).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return r.a.createElement("div",{className:"details"},r.a.createElement("h3",null,"Sol ",a),r.a.createElement("h4",null,n),r.a.createElement("p",null,"Season: ",t.Season," "),r.a.createElement("div",{className:"mainData"},r.a.createElement(E,{title:"Air temperature",measurement:"\xb0C",data:t.AT}),r.a.createElement(E,{title:"Wind Speed",measurement:"m/s",data:t.HWS}),r.a.createElement(E,{title:"Pressure",measurement:"Pa",data:t.PRE})))},y=(a(43),function(){return r.a.createElement("div",{className:"loadingio-spinner-eclipse-6k77a25kvoc"},r.a.createElement("div",{className:"ldio-y6dphe9xoic"},r.a.createElement("div",null)))}),g=(a(44),function(e){return r.a.createElement("div",{className:"error"},r.a.createElement("h5",null,"Ooops..."),r.a.createElement("p",null,"Something went wrong"))}),b=a(15),O=a.n(b),D=a(21),j=function e(){var t=this;Object(u.a)(this,e),this._apiBase="https://api.nasa.gov",this._apiKey="Z1FMxuzDUZu2v1JXYMHQSg40SzLpgua05AfFeELa",this._apiKeyParam="api_key=".concat(this._apiKey),this.getResource=function(){var e=Object(D.a)(O.a.mark((function e(a){var n,r,l,c=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],r="".concat(t._apiBase).concat(a,"?").concat(n.concat([t._apiKeyParam]).join("&")),e.next=4,fetch(r);case 4:if((l=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(r,", received ").concat(l.status));case 7:return e.next=9,l.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPictureOfTheDay=function(){var e=Object(D.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/planetary/apod",a&&["date=".concat(a)]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMarsWeather=Object(D.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/insight_weather/",["feedtype=json","ver=1.0"]));case 1:case"end":return e.stop()}}),e)})))},w=(a(46),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).nasaService=new j,a.state={data:{},sol_keys:[],choosenSol:null,loading:!0,error:!1},a.onWeatherLoaded=function(e){a.setState({data:e,sol_keys:e.sol_keys,choosenSol:e.sol_keys[0],loading:!1,error:!1})},a.onError=function(){a.setState({loading:!1,error:!0})},a.onDayClick=function(e){a.setState({choosenSol:e})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.nasaService.getMarsWeather().then(this.onWeatherLoaded).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.sol_keys,n=e.choosenSol,l=e.loading,c=e.error,o=this.props.viewDetails,s=!(l||c),i=c?r.a.createElement(g,null):null,u=l?r.a.createElement(y,null):null,m=s?r.a.createElement(S,{data:t,sol_keys:a,choosenSol:n,viewDetails:o,onDayClick:this.onDayClick}):null;return r.a.createElement("div",{className:"marsWeather"},r.a.createElement("h2",null,"Mars Weather"),i,u,m)}}]),t}(n.Component)),S=function(e){var t=e.data,a=e.sol_keys,n=e.viewDetails,l=e.choosenSol,c=e.onDayClick;return console.log("choosenSol = ".concat(l)),console.log(a[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"latestWeather"},a.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(f,{sol:e,day:t[e],onDayClick:function(){return c(e)}}))}))),n&&l&&r.a.createElement(v,{data:t[l],solKey:l}))},k=(a(47),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"marsWeatherPage"},r.a.createElement(w,{viewDetails:!0}))}}]),t}(n.Component)),N=(a(48),function(){return r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement("a",{href:"/"},r.a.createElement("span",null,"Home"))),r.a.createElement("li",null,r.a.createElement("a",{href:"/gallery"},r.a.createElement("span",null,"Gallery"))),r.a.createElement("li",null,r.a.createElement("a",{href:"/marsweather"},r.a.createElement("span",null,"Mars Weather"))))}),C=(a(49),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).nasaService=new j,a.state={url:null,title:"",explanation:"",loading:!0,error:!1},a.onPictureLoaded=function(e){var t=a.props.date;a.setState({url:e.url,title:e.title,loading:!1,error:!1}),localStorage.setItem("".concat(t,"-url"),e.url),localStorage.setItem("".concat(t,"-title"),e.title)},a.onError=function(){a.setState({loading:!1,error:!0})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.date,t=localStorage.getItem("".concat(e,"-url")),a=localStorage.getItem("".concat(e,"-title"));t?this.setState({url:t,title:a||"",loading:!1,error:!1}):this.nasaService.getPictureOfTheDay(e).then(this.onPictureLoaded).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.url,a=e.title,n=e.loading,l=e.error,c=this.props.date,o=!(n||l),s=l?r.a.createElement(g,null):null,i=n?r.a.createElement(y,null):null,u=o?r.a.createElement(_,{url:t,title:a,date:c}):null;return r.a.createElement("li",{className:"galleryPreview"},s,i,u)}}]),t}(n.Component)),_=function(e){var t=e.url,a=e.title,n=e.date;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{title:"".concat(n," ").concat(a),alt:a,src:t}))},M=a(20),P=["January","February","March","April","May","June","July","August","September","October","November","December"],x=new Date,A=x.getFullYear(),W=x.getMonth(),F=new Array(A-2015+1).fill(2015).map((function(e,t){return 2015+t})),H=function(e){return P.map((function(t,a){return{value:a+1,label:t,isDisabled:e===A&&a>W}}))},T={value:W+1,label:P[W]},L=F.map((function(e,t){return{value:e,label:e}})),G=L[L.length-1],R=(a(50),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.monthChosen(e.value)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.monthsOptions;return r.a.createElement(M.a,{className:"galleryFilterSelect selectMonth",defaultValue:T,options:e,onChange:this.handleChange})}}]),t}(n.Component)),I={monthChosen:function(e){return{type:"MONTH_CHOSEN",payload:e}}},J=Object(o.b)((function(e){return{month:e.month,monthsOptions:e.monthsOptions}}),I)(R),K=(a(51),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.yearChosen(e.value)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(M.a,{className:"galleryFilterSelect selectYear",defaultValue:G,onChange:this.handleChange,options:L})}}]),t}(n.Component)),U={yearChosen:function(e){return{type:"YEAR_CHOSEN",payload:e}}},Y=Object(o.b)((function(e){return{year:e.year}}),U)(K),B=(a(52),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).startDate=new Date(a.props.year,a.props.month,1),a.endDate=new Date,a.state={dates:[]},a.twoDigits=function(e){return"".concat(e<10?"0":"").concat(e)},a.generateGalleryPreviews=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.startDate,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.endDate,n=[],r=e;r<t;r.setDate(r.getDate()+1))n.unshift(a.formatDate(r));a.setState({dates:n})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"formatDate",value:function(e){var t=e.getFullYear(),a=this.twoDigits(e.getMonth()+1),n=this.twoDigits(e.getDate());return"".concat(t,"-").concat(a,"-").concat(n)}},{key:"updateDates",value:function(){this.startDate=new Date(this.props.year,this.props.month,1),this.endDate=new Date(this.props.year,this.props.month+1,1)}},{key:"componentDidMount",value:function(){this.generateGalleryPreviews()}},{key:"componentDidUpdate",value:function(e,t){e.year===this.props.year&&e.month===this.props.month||(this.updateDates(),this.generateGalleryPreviews())}},{key:"render",value:function(){var e=this.state.dates;return r.a.createElement("div",{className:"Gallery"},r.a.createElement("h2",null," Gallery "),r.a.createElement("div",{className:"galleryFilter"},r.a.createElement(Y,null),r.a.createElement(J,null)),r.a.createElement("ul",{className:"GalleryContent"},e.map((function(e){return r.a.createElement(C,{date:e,key:e})}))))}}]),t}(n.Component)),z=Object(o.b)((function(e){return{year:e.year,month:e.month}}))(B),V=(a(53),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).nasaService=new j,a.state={url:null,title:"",explanation:"",hdurl:"*",loading:!0,error:!1},a.onPictureLoaded=function(e){console.log(e),a.setState({url:e.url,hdurl:e.hdurl,title:e.title,explanation:e.explanation,loading:!1,error:!1})},a.onError=function(){a.setState({loading:!1,error:!0})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.nasaService.getPictureOfTheDay().then(this.onPictureLoaded).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.url,a=e.hdurl,n=e.title,l=e.explanation,c=e.loading,o=e.error,s=!(c||o),i=o?r.a.createElement(g,null):null,u=c?r.a.createElement(y,null):null,m=s?r.a.createElement(Z,{url:t,hdurl:a,title:n,explanation:l}):null;return r.a.createElement("div",{className:"pictureOfTheDay"},i,u,m)}}]),t}(n.Component)),Z=function(e){var t=e.url,a=e.hdurl,n=e.title,l=e.explanation;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:n,src:t})),r.a.createElement("div",{className:"description"},r.a.createElement("h2",null,n),r.a.createElement("p",null,l),r.a.createElement("p",{className:"download"},r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"Download HD"))))},Q=(a(54),function(){return r.a.createElement("div",{className:"Home"},r.a.createElement(V,null),r.a.createElement(w,{viewDetails:!1}))}),X=(a(55),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(N,null),r.a.createElement(i.a,{path:"/",component:Q,exact:!0}),r.a.createElement(i.a,{path:"/gallery",component:z}),r.a.createElement(i.a,{path:"/marsweather",component:k})))}),q=a(19),$=a(26),ee={year:A,month:W,monthsOptions:H(A)},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"YEAR_CHOSEN":return Object($.a)({},e,{monthsOptions:H(t.payload),year:t.payload});case"MONTH_CHOSEN":return Object($.a)({},e,{month:t.payload});default:return e}},ae=Object(q.b)(te);a(57);c.a.render(r.a.createElement(o.a,{store:ae},r.a.createElement(X,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c9ec8400.chunk.js.map