(this.webpackJsonpnasa_app=this.webpackJsonpnasa_app||[]).push([[0],{33:function(e,t,a){e.exports=a(59)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=a(5),i=a(31),s=a(14),u=a(2),m=a(3),h=a(6),p=a(4),d=a(7),f=a(30),E=(a(42),function(e){var t=e.type,a=e.label,n=e.value,l=e.unit;return r.a.createElement("p",{className:t},r.a.createElement("span",{className:"label"},a,":\xa0"),r.a.createElement("span",{className:"value"},n),r.a.createElement("span",{className:"unit"},l))}),y={solChosen:function(e){return{type:"SOL_CHOSEN",payload:e}}},v=Object(o.b)((function(){return{}}),y)((function(e){var t=e.sol,a=e.day,n=a.AT,l=a.HWS,c=a.PRE,o=a.First_UTC,i=e.solChosen,s=new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"}),u=n?Math.round(n.av):"&ndash;",m=l?Math.round(l.av):"&ndash;",h=c?Math.round(c.av):"&ndash;";return r.a.createElement("div",{className:"marsWeatherDay",onClick:function(){i(t)}},r.a.createElement("p",{className:"solDate"},"Sol ",t),r.a.createElement("p",{className:"date"},s),r.a.createElement(E,{type:"airT",label:"Air temp.",value:u,unit:"\xb0C"}),r.a.createElement(E,{type:"wind",label:"Wind",value:m,unit:"m/s"}),r.a.createElement(E,{type:"pressure",label:"Press.",value:h,unit:"Pa"}))})),g=(a(43),function(e){var t=e.title,a=e.measurement,n=e.data,l={minimum:n.mn,maximum:n.mx,average:n.av};return r.a.createElement("div",{className:"InfoBlock"},r.a.createElement("h5",null,t," (",a,"):"),Object.keys(l).map((function(e){return r.a.createElement("p",{key:e},r.a.createElement("span",null,e,":"),"\xa0",r.a.createElement("span",null,l[e]))})))}),b=Object(o.b)((function(e){return{sol:e.sol}}))((function(e){var t=e.data,a=e.sol,n=t[a],l=new Date(n.First_UTC).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return r.a.createElement("div",{className:"details"},r.a.createElement("h3",null,"Sol ",a),r.a.createElement("h4",null,l),r.a.createElement("p",null,"Season: ",n.Season," "),r.a.createElement("div",{className:"mainData"},r.a.createElement(g,{title:"Air temperature",measurement:"\xb0C",data:n.AT}),r.a.createElement(g,{title:"Wind Speed",measurement:"m/s",data:n.HWS}),r.a.createElement(g,{title:"Pressure",measurement:"Pa",data:n.PRE})))})),O=(a(44),function(){return r.a.createElement("div",{className:"loadingio-spinner-eclipse-6k77a25kvoc"},r.a.createElement("div",{className:"ldio-y6dphe9xoic"},r.a.createElement("div",null)))}),j=(a(45),function(e){return r.a.createElement("div",{className:"error"},r.a.createElement("h5",null,"Ooops..."),r.a.createElement("p",null,"Something went wrong"))}),D=a(15),w=a.n(D),S=a(22),N=function e(){var t=this;Object(u.a)(this,e),this._apiBase="https://api.nasa.gov",this._apiKey="Z1FMxuzDUZu2v1JXYMHQSg40SzLpgua05AfFeELa",this._apiKeyParam="api_key=".concat(this._apiKey),this.getResource=function(){var e=Object(S.a)(w.a.mark((function e(a){var n,r,l,c=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],r="".concat(t._apiBase).concat(a,"?").concat(n.concat([t._apiKeyParam]).join("&")),e.next=4,fetch(r);case 4:if((l=e.sent).ok){e.next=7;break}throw new Error("Could not fetch ".concat(r,", received ").concat(l.status));case 7:return e.next=9,l.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPictureOfTheDay=function(){var e=Object(S.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/planetary/apod",a&&["date=".concat(a)]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMarsWeather=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/insight_weather/",["feedtype=json","ver=1.0"]));case 1:case"end":return e.stop()}}),e)})))},k=(a(47),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).nasaService=new N,a.state={data:{},solKeys:[],loading:!0,error:!1},a.onWeatherLoaded=function(e){a.props.weatherLoaded(e),a.setState({data:e,solKeys:e.sol_keys,loading:!1,error:!1})},a.onError=function(){a.setState({loading:!1,error:!0})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.nasaService.getMarsWeather().then(this.onWeatherLoaded).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.solKeys,n=e.loading,l=e.error,c=this.props.isDetailsVisible,o=!(n||l),i=l?r.a.createElement(j,null):null,s=n?r.a.createElement(O,null):null,u=o?r.a.createElement(C,{data:t,solKeys:a,isDetailsVisible:c&&o}):null;return r.a.createElement("div",{className:"marsWeather"},r.a.createElement("h2",null,"Mars Weather"),i,s,u)}}]),t}(n.Component)),C=function(e){var t=e.data,a=e.solKeys,n=e.isDetailsVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"latestWeather"},a.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(v,{sol:e,day:t[e]}))}))),n&&r.a.createElement(b,{data:t}))},_={weatherLoaded:function(e){return{type:"WEATHER_LOADED",payload:e}}},A=Object(o.b)((function(e){return Object(f.a)(e),{}}),_)(k),M=(a(48),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"marsWeatherPage"},r.a.createElement(A,{isDetailsVisible:!0}))}}]),t}(n.Component)),P=(a(49),function(){return r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("span",null,"Home"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#/gallery"},r.a.createElement("span",null,"Gallery"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#/marsweather"},r.a.createElement("span",null,"Mars Weather"))))}),x=(a(50),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).nasaService=new N,a.state={url:null,title:"",explanation:"",loading:!0,error:!1},a.onPictureLoaded=function(e){var t=a.props.date;a.setState({url:e.url,title:e.title,loading:!1,error:!1}),localStorage.setItem("".concat(t,"-url"),e.url),localStorage.setItem("".concat(t,"-title"),e.title)},a.onError=function(){a.setState({loading:!1,error:!0})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.date,t=localStorage.getItem("".concat(e,"-url")),a=localStorage.getItem("".concat(e,"-title"));t?this.setState({url:t,title:a||"",loading:!1,error:!1}):this.nasaService.getPictureOfTheDay(e).then(this.onPictureLoaded).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.url,a=e.title,n=e.loading,l=e.error,c=this.props.date,o=!(n||l),i=l?r.a.createElement(j,null):null,s=n?r.a.createElement(O,null):null,u=o?r.a.createElement(H,{url:t,title:a,date:c}):null;return r.a.createElement("li",{className:"galleryPreview"},i,s,u)}}]),t}(n.Component)),H=function(e){var t=e.url,a=e.title,n=e.date;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{title:"".concat(n," ").concat(a),alt:a,src:t}))},L=a(21),W=["January","February","March","April","May","June","July","August","September","October","November","December"],F=new Date,T=F.getFullYear(),K=F.getMonth(),R=new Array(T-2015+1).fill(2015).map((function(e,t){return 2015+t})),G=function(e){return W.map((function(t,a){return{value:a+1,label:t,isDisabled:e===T&&a>K}}))},I={value:K+1,label:W[K]},J=R.map((function(e,t){return{value:e,label:e}})),U=J[J.length-1],V=(a(51),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.monthChosen(e.value)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.monthsOptions;return r.a.createElement(L.a,{className:"galleryFilterSelect selectMonth",defaultValue:I,options:e,onChange:this.handleChange})}}]),t}(n.Component)),Y={monthChosen:function(e){return{type:"MONTH_CHOSEN",payload:e}}},B=Object(o.b)((function(e){return{month:e.month,monthsOptions:e.monthsOptions}}),Y)(V),z=(a(52),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.yearChosen(e.value)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a,{className:"galleryFilterSelect selectYear",defaultValue:U,onChange:this.handleChange,options:J})}}]),t}(n.Component)),Z={yearChosen:function(e){return{type:"YEAR_CHOSEN",payload:e}}},Q=Object(o.b)((function(e){return{year:e.year}}),Z)(z),X=(a(53),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).startDate=new Date(a.props.year,a.props.month,1),a.endDate=new Date,a.state={dates:[]},a.twoDigits=function(e){return"".concat(e<10?"0":"").concat(e)},a.generateGalleryPreviews=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.startDate,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.endDate,n=[],r=e;r<t;r.setDate(r.getDate()+1))n.unshift(a.formatDate(r));a.setState({dates:n})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"formatDate",value:function(e){var t=e.getFullYear(),a=this.twoDigits(e.getMonth()+1),n=this.twoDigits(e.getDate());return"".concat(t,"-").concat(a,"-").concat(n)}},{key:"updateDates",value:function(){this.startDate=new Date(this.props.year,this.props.month,1),this.endDate=new Date(this.props.year,this.props.month+1,1)}},{key:"componentDidMount",value:function(){this.generateGalleryPreviews()}},{key:"componentDidUpdate",value:function(e,t){e.year===this.props.year&&e.month===this.props.month||(this.updateDates(),this.generateGalleryPreviews())}},{key:"render",value:function(){var e=this.state.dates;return r.a.createElement("div",{className:"Gallery"},r.a.createElement("h2",null," Gallery "),r.a.createElement("div",{className:"galleryFilter"},r.a.createElement(Q,null),r.a.createElement(B,null)),r.a.createElement("ul",{className:"GalleryContent"},e.map((function(e){return r.a.createElement(x,{date:e,key:e})}))))}}]),t}(n.Component)),q=Object(o.b)((function(e){return{year:e.year,month:e.month}}))(X),$=(a(54),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).nasaService=new N,a.state={url:null,title:"",explanation:"",hdurl:"*",loading:!0,error:!1},a.onPictureLoaded=function(e){console.log(e),a.setState({url:e.url,hdurl:e.hdurl,title:e.title,explanation:e.explanation,loading:!1,error:!1})},a.onError=function(){a.setState({loading:!1,error:!0})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.nasaService.getPictureOfTheDay().then(this.onPictureLoaded).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.url,a=e.hdurl,n=e.title,l=e.explanation,c=e.loading,o=e.error,i=!(c||o),s=o?r.a.createElement(j,null):null,u=c?r.a.createElement(O,null):null,m=i?r.a.createElement(ee,{url:t,hdurl:a,title:n,explanation:l}):null;return r.a.createElement("div",{className:"pictureOfTheDay"},s,u,m)}}]),t}(n.Component)),ee=function(e){var t=e.url,a=e.hdurl,n=e.title,l=e.explanation;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:n,src:t})),r.a.createElement("div",{className:"description"},r.a.createElement("h2",null,n),r.a.createElement("p",null,l),r.a.createElement("p",{className:"download"},r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"Download HD"))))},te=(a(55),function(){return r.a.createElement("div",{className:"Home"},r.a.createElement($,null),r.a.createElement(A,{viewDetails:!1}))}),ae=(a(56),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(P,null),r.a.createElement(s.a,{path:"/",component:te,exact:!0}),r.a.createElement(s.a,{path:"/gallery",component:q}),r.a.createElement(s.a,{path:"/marsweather",component:M})))}),ne=a(20),re=a(18),le={year:T,month:K,monthsOptions:G(T),sol:null},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"YEAR_CHOSEN":return Object(re.a)({},e,{monthsOptions:G(t.payload),year:t.payload});case"MONTH_CHOSEN":return Object(re.a)({},e,{month:t.payload});case"WEATHER_LOADED":return Object(re.a)({},e,{sol:t.payload.sol_keys[0]});case"SOL_CHOSEN":return Object(re.a)({},e,{sol:t.payload});default:return e}},oe=Object(ne.b)(ce);a(58);c.a.render(r.a.createElement(o.a,{store:oe},r.a.createElement(ae,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.cbf57e71.chunk.js.map