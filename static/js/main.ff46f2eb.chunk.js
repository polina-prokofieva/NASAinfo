(this.webpackJsonpnasa_app=this.webpackJsonpnasa_app||[]).push([[0],{12:function(e,t,a){e.exports={Preview:"Preview_Preview__3SJxB",description:"Preview_description__1NFxg",list:"Preview_list__1BX2y",listItem:"Preview_listItem__1LLFf",key:"Preview_key__ep0Yc",value:"Preview_value___JY16",text:"Preview_text__1J89u"}},13:function(e,t,a){e.exports={TransferArticle:"TransferArticle_TransferArticle__U22xr",rendered:"TransferArticle_rendered__2KCio",content:"TransferArticle_content__3Gbv1",category:"TransferArticle_category__2tO2D"}},24:function(e,t,a){e.exports={MenuItem:"MenuItem_MenuItem__38YyF",rendered:"MenuItem_rendered__sJk-5"}},27:function(e,t,a){e.exports={GalleryPage:"GalleryPage_GalleryPage__2ZQ7z",content:"GalleryPage_content__2a8Z9",filter:"GalleryPage_filter__1mGsm",galleryFilterSelect:"GalleryPage_galleryFilterSelect__3-vm6"}},28:function(e,t,a){e.exports={TransferPage:"TransferPage_TransferPage__2YCF0",placeholder:"TransferPage_placeholder__325Nf"}},36:function(e,t,a){e.exports={HomePage:"HomePage_HomePage__3Zwca"}},38:function(e,t,a){e.exports={TopMenu:"TopMenu_TopMenu__2I_ug",selected:"TopMenu_selected__2fKPE"}},4:function(e,t,a){e.exports={PictureOfTheDay:"PictureOfTheDay_PictureOfTheDay__38SdU",image:"PictureOfTheDay_image__1Krg5",description:"PictureOfTheDay_description__3y1EC",download:"PictureOfTheDay_download__veDcJ",currentDate:"PictureOfTheDay_currentDate__3IuNg",today:"PictureOfTheDay_today__33DjW",yesterday:"PictureOfTheDay_yesterday__McmWW",tomorrow:"PictureOfTheDay_tomorrow__3j59E"}},43:function(e,t,a){e.exports=a(58)},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=a(39),i=a(15),u=a(23),s=a(11),m=a(10),f=a.n(m),p=a(18),d=a(22),_=a(6),g=a(12),h=a.n(g),E=function(e){var t=e.url,a=e.location,n=e.center,c=e.description,o=e.title,l=e.date_created,u=(Object(i.a)(e,["url","location","center","description","title","date_created"]),{location:a,center:n,title:o,date:new Date(l).toString()});return r.a.createElement("li",{className:h.a.Preview},r.a.createElement("img",{alt:a,src:t}),r.a.createElement("div",{className:h.a.description},r.a.createElement("ul",{className:h.a.list},Object.keys(u).map((function(e){return r.a.createElement("li",{key:e,className:h.a.listItem},r.a.createElement("span",{className:h.a.key},e,": "),r.a.createElement("span",{className:h.a.value},u[e]))}))),r.a.createElement("p",{className:h.a.text},c)))},y=a(34),O=a(41),v=a(35),b=a(42),j=(a(53),function(e){return r.a.createElement("div",{className:"error"},r.a.createElement("h5",null,"Ooops..."),r.a.createElement("p",null,"Something went wrong"))}),w=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(b.a)(t,e),Object(y.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(j,null):this.props.children}}]),t}(n.Component),D=a(8),P=(a(54),function(){return r.a.createElement("div",{className:"loadingio-spinner-eclipse-6k77a25kvoc"},r.a.createElement("div",{className:"ldio-y6dphe9xoic"},r.a.createElement("div",null)))}),N=function(e){return function(t){var a=t.getData,c=Object(n.useState)(null),o=Object(D.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(!0),s=Object(D.a)(u,2),m=s[0],f=s[1],p=Object(n.useState)(!1),d=Object(D.a)(p,2),_=d[0],g=d[1],h=function(e){i(e),f(!1),g(!1)},E=function(){g(!0),f(!1)};return Object(n.useEffect)((function(){a().then(h).catch(E)}),[a]),m?r.a.createElement(P,null):_?r.a.createElement(j,null):r.a.createElement(e,{data:l})}},T=a(27),x=a.n(T),k=N((function(e){var t=e.data.collection.items.map((function(e){var t=e.links,a=e.data;return Object(_.a)({},a[0],{url:t[0].href})}));return r.a.createElement(w,null,r.a.createElement("main",{className:x.a.GalleryPage},r.a.createElement("ul",{className:x.a.content},t.map((function(e){return r.a.createElement(E,Object.assign({key:e.title},e))})))))})),M=a(7),S=a(16),A=a.n(S),C=function(e){return function(t){var a=t.delay,c=void 0===a?200:a,o=Object(i.a)(t,["delay"]),l=Object(n.useState)(!1),u=Object(D.a)(l,2),s=u[0],m=u[1];Object(n.useEffect)((function(){setTimeout((function(){return m(!0)}),c)}),[]);var f=Object(_.a)({},o,{rendered:s});return r.a.createElement(e,f)}},H=["January","February","March","April","May","June","July","August","September","October","November","December"],I=new Date,F=I.getFullYear(),L=I.getMonth(),G=new Array(F-2015+1).fill(2015).map((function(e,t){return 2015+t})),J=function(e){return H.map((function(t,a){return{value:a+1,label:t,isDisabled:e===F&&a>L}}))},Y=(H[L],G.map((function(e,t){return{value:e,label:e}}))),K=(Y[Y.length-1],/www\.youtube\.com/),B={title:"Picture Of The Day",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0},R=function(e){return"".concat(e<10?"0":"").concat(e)},Z=function(e){return new Date(+e+864e5)},U=new Date,W=(Z(U),a(4)),z=a.n(W),Q=function(e){var t=e.url,a=e.hdurl,c=e.title,o=e.explanation,l=e.isVideo,i=e.isHTML,u=Object(n.useContext)(q),s=u.date,m=u.toPrevDay,f=u.toNextDay,p=l?r.a.createElement("iframe",Object.assign({},B,{src:"".concat(t,"&controls=0")})):r.a.createElement("img",{alt:c,src:t}),d=function(e){var t=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}(s)?r.a.createElement("span",{className:z.a.tomorrow},"\xa0"):r.a.createElement("span",{className:z.a.tomorrow,onClick:f},"\u25b6");return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement("figure",{className:z.a.image},p),r.a.createElement("div",{className:z.a.description},r.a.createElement("div",{className:z.a.currentDate},r.a.createElement("span",{className:z.a.yesterday,onClick:m},"\u25c0"),r.a.createElement("span",{className:z.a.today},function(e){return e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}(s)),d),r.a.createElement("article",{className:z.a.headerAndText},r.a.createElement("h2",{className:z.a.title},c),r.a.createElement("p",{className:z.a.text},o)),r.a.createElement("p",{className:"download"},!l&&!i&&r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"Download HD"),"\xa0",i&&r.a.createElement("a",{href:t,target:"_blank"},"Go to picture of the day"))))},V=N(C((function(e){var t,a=e.data,c=e.rendered,o=a.url,l=Object(n.useMemo)((function(){return function(e){return K.test(e)}(o)}),[o]),i=Object(n.useMemo)((function(){return function(e){return/.*\.html$/.test(e)}(o)}),[o]),u=Object(_.a)({},a,{isVideo:l,isHTML:i}),s=A()((t={},Object(M.a)(t,z.a.PictureOfTheDay,!0),Object(M.a)(t,z.a.rendered,c),t));return r.a.createElement("section",{className:s},r.a.createElement(Q,u))}))),X=a(36),$=a.n(X),q=r.a.createContext(),ee=function(e){var t=e.getData,a=Object(n.useState)(U),c=Object(D.a)(a,2),o=c[0],l=c[1],i=Object(n.useCallback)((function(){return t(function(e){var t=e.getFullYear(),a=R(e.getMonth()+1),n=R(e.getDate());return"".concat(t,"-").concat(a,"-").concat(n)}(o))}),[o]),u={date:o,toPrevDay:function(){l((function(e){return function(e){return new Date(e-864e5)}(e)}))},toNextDay:function(){l((function(e){return Z(e)}))}};return r.a.createElement("main",{className:$.a.HomePage,id:"homePage"},r.a.createElement(q.Provider,{value:u},r.a.createElement(V,{getData:i})))},te=a(40),ae=a(13),ne=a.n(ae),re=C((function(e){var t,a=e.title,n=e.text,c=e.category,o=e.image,l=e.rendered,i=A()((t={},Object(M.a)(t,ne.a.TransferArticle,!0),Object(M.a)(t,ne.a.rendered,l),t));return r.a.createElement("div",{className:i},r.a.createElement("h3",{className:ne.a.title},a),r.a.createElement("div",{className:ne.a.content},o&&r.a.createElement("figure",null,r.a.createElement("img",{src:o,alt:a})),r.a.createElement("article",null,r.a.createElement("p",{className:ne.a.text},n),r.a.createElement("p",{className:ne.a.category},r.a.createElement("span",null,c)))))})),ce=a(28),oe=a.n(ce),le=N((function(e){var t=e.data.results,a=Object(n.useMemo)((function(){return t.filter((function(e){return e[0]&&e[2]&&e[3]&&e[10]}))}),[t]),c=Object(n.useState)([a[0]]),o=Object(D.a)(c,2),l=o[0],i=o[1],u=l.length<a.length,s=Object(n.useCallback)((function(){l.length>=a.length?window.removeEventListener("scroll",s):function(){var e=document.body;return e.scrollHeight-e.clientHeight-window.pageYOffset<100}()&&i((function(e){return[].concat(Object(te.a)(e),[a[e.length]])}))}),[a,l]);return Object(n.useEffect)((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[s]),Object(n.useEffect)((function(){s()})),r.a.createElement(w,null,r.a.createElement("main",{className:oe.a.TransferPage},l.map((function(e){return r.a.createElement(re,{key:e[0],title:e[2],text:e[3],category:e[5],image:e[10]})})),u&&r.a.createElement("div",{className:oe.a.placeholder})))})),ie=new function e(){var t=this;Object(d.a)(this,e),this._apiBase="https://api.nasa.gov",this._apiImages="https://images-api.nasa.gov/search?media_type=image&page=1",this._apiKey="Z1FMxuzDUZu2v1JXYMHQSg40SzLpgua05AfFeELa",this._apiKeyParam="api_key=".concat(this._apiKey),this.catchError=function(e,t){if(!e.ok)throw new Error("Could not fetch ".concat(t,", received ").concat(e.status))},this.getResource=function(){var e=Object(p.a)(f.a.mark((function e(a){var n,r,c,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r="".concat(t._apiBase).concat(a,"?").concat(n.concat([t._apiKeyParam]).join("&")),e.next=4,fetch(r);case 4:return c=e.sent,t.catchError(c,r),e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPictureOfTheDay=function(){var e=Object(p.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/planetary/apod",a&&["date=".concat(a)]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTransfer=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResource("/techtransfer/patent/"));case 1:case"end":return e.stop()}}),e)}))),this.getImages=Object(p.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t._apiImages);case 2:return a=e.sent,t.catchError(a,t._apiImages),e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))},ue=[{path:"/",name:"Home",component:ee,getData:ie.getPictureOfTheDay,exact:!0},{name:"Home",component:ee,getData:ie.getPictureOfTheDay,top:!0},{name:"Gallery",component:k,getData:ie.getImages,top:!0},{name:"Transfer",component:le,getData:ie.getTransfer,top:!0}];ue.forEach((function(e){e.path=e.path||"/".concat(e.name.toLowerCase())}));ue.filter((function(e){return e.top}));var se=a(24),me=a.n(se),fe=C((function(e){var t,a=e.name,n=e.path,c=e.rendered,o=A()((t={},Object(M.a)(t,me.a.MenuItem,!0),Object(M.a)(t,me.a.rendered,c),t));return r.a.createElement("li",{className:o},r.a.createElement(u.b,{to:n,activeClassName:me.a.selected},r.a.createElement("span",null,a)))})),pe=a(38),de=a.n(pe),_e=function(){return r.a.createElement("nav",{className:de.a.TopMenu},r.a.createElement("ul",null,ue.filter((function(e){return e.top})).map((function(e,t){return r.a.createElement(fe,Object.assign({key:e.name},e,{delay:300*t}))}))))},ge=(a(56),function(){return r.a.createElement(w,null,r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement("header",null,r.a.createElement(_e,null)),ue.map((function(e,t){var a=e.name,n=e.component,c=e.getData,o=Object(i.a)(e,["name","component","getData"]);return r.a.createElement(s.a,Object.assign({},o,{key:"".concat(a,"-").concat(t),render:function(e){return r.a.createElement(n,Object.assign({},e,{getData:c}))}}))})))))}),he=a(21),Ee={year:F,month:L,monthsOptions:J(F),sol:null},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"YEAR_CHOSEN":return Object(_.a)({},e,{monthsOptions:J(t.payload),year:t.payload});case"MONTH_CHOSEN":return Object(_.a)({},e,{month:t.payload});case"WEATHER_LOADED":return Object(_.a)({},e,{sol:t.payload.sol_keys[0]});case"SOL_CHOSEN":return Object(_.a)({},e,{sol:t.payload});default:return e}},Oe=Object(he.b)(ye);a(57);o.a.render(r.a.createElement(l.a,{store:Oe},r.a.createElement(ge,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.ff46f2eb.chunk.js.map